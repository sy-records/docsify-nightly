{"version":3,"file":"gtag.min.js","sources":["../../src/plugins/gtag.js"],"sourcesContent":["// From ./ga.js\n\nfunction appendScript(id) {\n  const script = document.createElement('script');\n  script.async = true;\n  script.src = 'https://www.googletagmanager.com/gtag/js?id=' + id;\n  document.body.appendChild(script);\n}\n\n// global site tag instance initialized\nfunction initGlobalSiteTag(id) {\n  appendScript(id);\n\n  window.dataLayer = window.dataLayer || [];\n  window.gtag =\n    window.gtag ||\n    function () {\n      window.dataLayer.push(arguments);\n    };\n\n  window.gtag('js', new Date());\n  window.gtag('config', id);\n}\n\n// add additional products to your tag\n// https://developers.google.com/tag-platform/gtagjs/install\nfunction initAdditionalTag(id) {\n  window.gtag('config', id);\n}\n\nfunction init(ids) {\n  if (Array.isArray(ids)) {\n    // set the first id to be a global site tag\n    initGlobalSiteTag(ids[0]);\n\n    // the rest ids\n    ids.forEach((id, index) => {\n      if (index > 0) {\n        initAdditionalTag(id);\n      }\n    });\n  } else {\n    initGlobalSiteTag(ids);\n  }\n}\n\nfunction collect() {\n  if (!window.gtag) {\n    init($docsify.gtag);\n  }\n\n  // usage: https://developers.google.com/analytics/devguides/collection/gtagjs/pages\n  window.gtag('event', 'page_view', {\n    /* eslint-disable camelcase */\n    page_title: document.title,\n    page_location: location.href,\n    page_path: location.pathname,\n    /* eslint-disable camelcase */\n  });\n}\n\nconst install = function (hook) {\n  if (!$docsify.gtag) {\n    console.error('[Docsify] gtag is required.');\n    return;\n  }\n\n  hook.beforeEach(collect);\n};\n\nwindow.$docsify = window.$docsify || {};\n$docsify.plugins = [install, ...($docsify.plugins || [])];\n"],"names":["initGlobalSiteTag","id","script","document","createElement","async","src","body","appendChild","appendScript","window","dataLayer","gtag","push","arguments","Date","init","ids","Array","isArray","forEach","index","initAdditionalTag","collect","$docsify","page_title","title","page_location","location","href","page_path","pathname","plugins","hook","beforeEach","console","error"],"mappings":";;;;;;yBAUA,SAASA,EAAkBC,IAR3B,SAAsBA,GACpB,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,OAAQ,EACfH,EAAOI,IAAM,+CAAiDL,EAC9DE,SAASI,KAAKC,YAAYN,EAC5B,CAIEO,CAAaR,GAEbS,OAAOC,UAAYD,OAAOC,WAAa,GACvCD,OAAOE,KACLF,OAAOE,MACP,WACEF,OAAOC,UAAUE,KAAKC,YAG1BJ,OAAOE,KAAK,KAAM,IAAIG,MACtBL,OAAOE,KAAK,SAAUX,EACxB,CAQA,SAASe,EAAKC,GACRC,MAAMC,QAAQF,IAEhBjB,EAAkBiB,EAAI,IAGtBA,EAAIG,SAAQ,CAACnB,EAAIoB,KACXA,EAAQ,GAXlB,SAA2BpB,GACzBS,OAAOE,KAAK,SAAUX,EACxB,CAUQqB,CAAkBrB,EACpB,KAGFD,EAAkBiB,EAEtB,CAEA,SAASM,IACFb,OAAOE,MACVI,EAAKQ,SAASZ,MAIhBF,OAAOE,KAAK,QAAS,YAAa,CAEhCa,WAAYtB,SAASuB,MACrBC,cAAeC,SAASC,KACxBC,UAAWF,SAASG,UAGxB,CAWArB,OAAOc,SAAWd,OAAOc,UAAY,GACrCA,SAASQ,QAAU,CAVH,SAAUC,GACnBT,SAASZ,KAKdqB,EAAKC,WAAWX,GAJdY,QAAQC,MAAM,8BAKlB,KAGiCZ,SAASQ,SAAW"}